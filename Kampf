#include <iostream>
#include <fstream>
#include <string>

using namespace std;

void Clear()
{
    cout << "\x1B[2J\x1B[H";
}

string Gesinnung();

main()
{
    fstream f;
    int hpmax, play = 1, ba, hp, hpba, lvl, ini = 0, rk, profbonus;
    char pm, exit, gs;
    string gesin = "", fullhp = "";

    f.open("DND_Kampf.txt", ios_base::out | ios_base::in | ios_base::trunc);
    /* if (f.good())
     {
          code
     }
     */

    cout << "welches level bist du?\n";
    cin >> lvl;
    cout << "wie hoch ist deine Rüstungsklasse?\n";
    cin >> rk;
    cout << "max hp?\n";
    cin >> hpmax;
    cout << "full hp? ja/nein\n";
    cin >> fullhp;
    if (fullhp == "ja")
    {
        hp = hpmax;
    }
    if (fullhp == "nein")
    {
        cout << "wie viel hp hast du?\n";
        cin >> hp;
    }
    gesin = Gesinnung();
    system("CLS");
    //Clear();
    while (play == 1)
    {
        cout << "Konstante Werte:\n";
        cout << "dein level ist: " << lvl;
        cout << "\ndeine max hp sind: " << hpmax;
        cout << "\ndeine Rüstungsklasse ist: " << rk;
        cout << "\ndeine Gesinnung ist: " << gesin;
        cout << "\n\nAndere Werte:\n";
        cout << "deine aktuellen hp sind: " << hp;
        cout << "\ndeine Initiative ist: " << ini << "\n\n";
        cout << "hp bearbeiten(1), initiative bearbeiten(2), exit(3)\n";
        cin >> ba;
        if (ba == 1)
        {

            cout << "wie viel hp? 1\n";
            cin >> hpba;
            cout << "+ oder -?\n";
            cin >> pm;
            if (pm == '+')
            {
                hp = hp + hpba;
                if (hp > hpmax)
                {
                    hp = hpmax;
                }
            }
            else if (pm == '-')
            {
                hp = hp - hpba;
                if (hp <= 0)
                {
                    hp = 0;
                }
            }
        }
        else if (ba == 2)
        {
            cout << "welche Initiative hast du?\n";
            cin >> ini;
        }
        else if (ba == 3)
        {
            break;
        }
        system("CLS");
        //Clear();
    }

    if (f.good())
    {
        f << "Konstante Werte:\n";
        f << "lvl: " << lvl;
        f << "\nmaxhp: " << hpmax;
        f << "\nrk: " << rk;
        f << "\ngs: " << gesin;
        f << "\n\nAndere Werte:\n";
        f << "ahp: " << hp;
        f << "\nini: " << ini;
    }
    return 0;
}

string Gesinnung()
{
    string gesin = "";
    char gs, egs;
    cout << "welche Gesinnung hast du?\nb, g, n\n";
    cin >> gs;
    cout << "welche spezialiesierung hat deine Gesinnung?\nc, l, n\n";
    cin >> egs;
    switch (gs)
    {
    case 'b':
        if (egs == 'c')
        {
            gesin = "chaotic evil";
        }
        else if (egs == 'l')
        {
            gesin = "lawfull evil";
        }
        else if (egs == 'n')
        {
            gesin = "neutral evil";
        }
        break;

    case 'g':
        if (egs == 'c')
        {
            gesin = "chaotic good";
        }
        else if (egs == 'l')
        {
            gesin = "lawfull good";
        }
        else if (egs == 'n')
        {
            gesin = "neutral good";
        }
        break;

    case 'n':
        if (egs == 'c')
        {
            gesin = "chaotic neutral";
        }
        else if (egs == 'l')
        {
            gesin = "lawfull neutral";
        }
        else if (egs == 'n')
        {
            gesin = "neutral";
        }
        break;

    default:
        break;
    }
    return gesin;
}
